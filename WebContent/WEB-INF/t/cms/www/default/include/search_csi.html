<script>
//delay延迟时间（毫秒）
$(function() {
	$("input[name=q]").autocomplete({
		 source: "${base}/search/v_ajax_list.jspx",
		 minLength: 2,
		 max:5,
		 delay:400,
		 autoFocus: true,
		 select: function(e, ui) {
			 $("input[name='q']").val(ui.item.value);
			 $("#searchForm").submit();
		 }
	});
});
function qkeypress(){
	var q=$("input[name=q]");
	if(q.val().trim()!=""){
		$("input[name=q]").autocomplete("enable");
	}else{
		$("input[name=q]").autocomplete("disable");
	}
}
</script>
<!-- 搜索_begin -->
<form action="${base}/search.jspx" target="_blank" id="searchForm">
    <div class="ui-widget">
        <div class="searchBg">
        	<input name="q" value="${oldq!'请输入关键词'}" type="text" onfocus="if(this.value=='请输入关键词')this.value=''"  onkeypress="qkeypress()" onblur="if(this.value=='')this.value='请输入关键词'"  maxlength="50" autocomplete="off" style="width:520px;"/>
        </div>
    </div>
    <button type="submit" class="submit">查询</button>
    </form>
  <!-- 搜索_end -->